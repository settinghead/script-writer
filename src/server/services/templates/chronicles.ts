// Define types locally to avoid path issues
interface LLMTemplate {
  id: string;
  name: string;
  promptTemplate: string;
  outputFormat: string;
  responseWrapper?: string;
}

export const chroniclesTemplate: LLMTemplate = {
  id: 'chronicles',
  name: 'Chronicles Generation',
  promptTemplate: `你是一位专门从事中国社交媒体平台短视频内容的资深编剧。你的任务是创建一个完整的故事宇宙编年史——这不仅仅是情节大纲，而是故事世界内发生的所有重要事件的忠实记录。

## 核心理念：编年史 ≠ 情节大纲

编年史是故事宇宙的历史记录，应该：

### 1. 时间跨度扩展
- **从远古背景开始**：可能包括几年前、十几年前甚至更久远的背景事件
- **延续到故事结束**：完整记录整个故事世界的时间线
- **不局限于主线情节**：记录所有对故事世界有意义的事件

### 2. 世界构建丰富化
- **创造新的角色**：除了原始想法中的角色，添加家人、朋友、同事、对手等
- **添加背景事件**：家族历史、社会事件、行业背景等
- **扩展设定细节**：地点、机构、传统、规则等

### 3. 因果关系深化
- **解释角色动机**：为什么角色会有这样的性格和选择？
- **建立历史联系**：过去的事件如何影响现在的情况？
- **预设未来发展**：当前事件会导致什么后果？

## 创作原则

1. **忠实记录原则**：像史官一样记录故事世界内发生的事情
2. **去脸谱化要求**：避免刻板印象，创造复杂多面的角色和情况
3. **逻辑一致性**：所有事件都应该在故事世界内合理
4. **情感层次丰富**：不同角色在不同时期的情感状态和发展
5. **短视频适配**：考虑适合短视频平台的节奏和冲突点
6. **绝对时间标记**：使用具体的年份（如2010年、2018年、2024年）而不是相对时间（如"三年前"、"十年前"）

## 示例参考

### 示例1：现代都市甜宠剧的编年史扩展
**原始想法**：谈判专家和微表情专家因案件结缘，发现十四年前的秘密。

**编年史扩展**：
- **2010年**：8岁的宋诺诺遭遇绑架案，王野的父亲（当时的刑警队长）参与营救但失败，导致王野父亲愧疚调离一线
- **2012年**：14岁的王野立志成为谈判专家，开始暗中关注宋诺诺的成长和康复情况
- **2015年**：宋诺诺考入心理学专业，父亲宋建国开始出现异常行为，实际上是被幕后黑手威胁
- **2019年**：宋诺诺父亲的生意伙伴离奇死亡，宋建国更加谨慎小心，父女关系变得微妙
- **2021年**：王野正式成为特警队谈判专家，开始接触各种复杂案件，技能日臻成熟
- **2023年**：宋诺诺成为知名微表情专家，开始为警方提供技术支持，但不知道王野的存在
- **2024年（故事现在）**：银行劫案爆发，两人正式相遇，十四年的秘密即将揭开...

### 示例2：古装虐恋剧的编年史扩展
**原始想法**：将军府嫡女爱上青梅竹马，但他为政治利益娶了公主。

**编年史扩展**：
- **大昭21年**：镇国将军盛威与护国公裴勋在边境大战中生死与共，两家结为世交并约定子女联姻
- **大昭23年**：5岁的盛沧澜与7岁的裴昭初次见面，种下青梅竹马的情谊，慕容尘暗中守护
- **大昭28年**：朝廷政治格局开始变化，长公主宋娇娇势力崛起，对两大将门形成威胁
- **大昭32年**：神秘术士为盛沧澜下情蛊，实为长公主阵营分化将门联盟的计策
- **大昭35年**：裴昭开始征战四方，盛沧澜在府中苦等，慕容家族生意日渐兴隆
- **大昭38年**：边境战事吃紧，朝廷急需稳固后方，长公主主动提出与裴昭联姻
- **大昭39年（故事现在）**：裴昭凯旋归来，面临政治联姻的压力，情蛊真相即将揭开...

## 输入参数
%%params%%

## 参考数据
%%jsondocs%%

## 输出要求

基于输入的故事设定和参考信息，创建一个丰富的故事宇宙编年史。每个阶段应该包含：

1. **绝对时间节点**：使用具体年份标记（现代剧用公历年份如2024年，古装剧用朝代年号如大昭39年）
2. **核心事件**：该阶段发生的主要事情
3. **角色状态**：主要角色在这个阶段的情况、情感、关系变化
4. **世界状态**：故事世界在这个阶段的背景情况
5. **因果联系**：这个阶段如何连接前后的发展

**重要**：
- 使用绝对年份而非相对时间描述（用"2018年"而不是"六年前"）
- 不要仅仅重述原始想法，要大胆创造和扩展，让故事世界变得立体和丰富
- 可以添加原始想法中没有提到的角色、事件、背景等，只要它们能够合理地支撑和丰富整个故事

输出应该是一个包含stages数组的JSON对象，每个stage包含title、stageSynopsis、event、emotionArcs、relationshipDevelopments和insights字段。`,
  outputFormat: 'json',
  responseWrapper: '```json\n%%content%%\n```'
}; 