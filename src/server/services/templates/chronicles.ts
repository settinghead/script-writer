export const chroniclesTemplate = {
  id: 'chronicles',
  name: 'Chronological Story Development Generation',
  promptTemplate: `你是一位深耕短剧创作的资深编剧，尤其擅长创作引人入胜、节奏明快、反转强烈的爆款短剧。
基于已确定的剧本框架，请创作一个**时序大纲（Chronological Outline）**。

**⏰ 时序大纲说明**：
这不是直接的剧集拍摄顺序，而是按照**时间顺序**梳理整个故事世界中发生的所有事件，包括：
- **历史背景事件**：故事发生前的重要历史、家族历史、角色过往经历
- **前因后果**：某些事件的起因，也是独立的事件
- **隐藏线索**：用于flashback、回忆、揭秘的历史事件，也要放在时间线里
- **世界观建构**：角色关系的形成过程、强烈情感起源、动机、都应该在时间线里体现

**完整时间轴**：
最后的时间线应该是从最早的相关事件到故事结局的完整时间线（再次强调：不是剧集播出顺序）

**时序大纲的价值**：
- 为编剧提供完整的故事世界观和时间脉络
- 确保剧情逻辑的前后呼应和因果关系
- 为flashback场景和角色动机提供详实背景
- 避免剧情漏洞和时间线事件

**📺 剧本框架基础**：
基于以下完整的剧本框架设定：

%%params.outlineSettingsJson%%

**特殊要求**: %%params.requirements%%

**重要时间规划原则**：
1. **集数与时间的关系**：
   - 避免时间跨度过大但事件稀少的情况
   
2. **事件密度指导**：
   - 高密度期（1天多件事）：危机爆发、冲突升级、关键转折
   - 中密度期（1-2天一件事）：调查取证、关系发展、计划实施
   - 低密度期（数天一件事）：恢复期、等待期、铺垫期

3. **时间连贯性要求**：
   - 明确标注具体日期范围（如"第1-3天"而非笼统的"前期"）
   - 事件数量必须与时间跨度相匹配
   - 考虑事件的现实执行时间（如调查需要时间、恢复需要时间）

**时序发展阶段 (stages)**: **按时间顺序创建完整的故事发展阶段**：

**阶段数量要求**：%%params.stageGuidance%%
- **必须包含历史背景阶段**：从重要的历史事件、角色过往开始
- **完整时间线覆盖**：从故事世界的起源事件到最终结局
- **前因后果串联**：每个阶段都要说明与前后阶段的因果关系
- **时间顺序严格**：按照事件发生的真实时间顺序排列，不是剧集播出顺序

**每个阶段必须包含以下信息：**

*   **title**: 阶段标题，简洁概括该阶段的核心内容
*   **stageSynopsis**: 详细描述该阶段的故事发展、角色行为和情感变化（约200-300字符）
*   **event**: 该阶段的核心关键事件内容
*   **emotionArcs**: 情感变化轨迹数组，每个包含：
    - **characters**: 涉及的角色名称数组
    - **content**: 具体情感发展描述
*   **relationshipDevelopments**: 人物关系发展变化数组，每个包含：
    - **characters**: 涉及的角色名称数组  
    - **content**: 关系发展变化描述
*   **insights**: 观众关键信息数组，必须是具体的剧情事实（如"李小明是王大华的亲生儿子"、"张三故意隐瞒了车祸真相"、"赵四与公司内鬼暗中勾结"），这些信息对理解后续非时序剧集展开至关重要

**时间连贯性要求**：
- 事件发展符合现实逻辑
- 阶段间时间连续，无跳跃或重叠
- 关键事件时间间隔合理

**短剧创作核心要求 (非常重要！):**
-   **节奏极快**: 剧情推进迅速，不拖沓，每一分钟都要有信息量或情绪点。
-   **冲突强烈**: 核心矛盾要直接、尖锐，能迅速抓住观众。
-   **反转惊人**: 设计至少1-2个出人意料的情节反转。
-   **情绪到位**: 准确拿捏观众的情绪，如愤怒、喜悦、紧张、同情等，并快速给予满足（如"打脸"情节）。
-   **人物关系复杂**: 人物之间的互相关系要复杂，不要简单对立，要有合理的动机和情感变化。
-   **结局爽快**: 结局要干脆利落，给观众明确的情感释放。
-   **紧扣设定**: 所有时序发展必须符合既定的人物角色和故事设定。
-   **阶段内容要求**: 每个stages条目都必须包含足够的情节细节、角色行动、环境描述、情感变化等
-   **按照时间顺序**: 这个大纲并不是最终每集成稿，而是按照时间顺序将故事发展过程进行梳理，所以必须按照时间顺序来写
-   **时间规划合理性**: 必须确保时间框架与事件密度相匹配，避免不合理的时间安排。
-   **逻辑合理性**: 确保所有情节发展符合角色性格和现实逻辑，避免为了剧情需要而强行推进。
-   **关键洞察要求**: 每个阶段的insights必须是具体的剧情事实（如"X是Y的身份"、"X做了Y事件"、"X与Y有Z关系"），不能是抽象概念或模糊描述。

=== 时序大纲例子1 ===

**历史背景阶段：前朝覆灭与身世埋藏（故事开始前15年）**

前朝宁王朝灭亡时，御医苏策冒死救出宁王朝公主，公主临终前将内力传给刚出生的女儿苏凌云，并托付苏策抚养。同时，前朝侍女碧玉的家族被灭门，她作为唯一幸存者被苏策收留。邻国质子东方怜与当朝太子秘密相恋，怀有身孕后太子战死，东方怜为保胎儿和自己性命，隐瞒怀孕真相。陈慕白幼时曾被苏家救命，对苏凌云暗生情愫，发誓要娶她为妻。方澜作为宁王朝遗留的暗卫首领，多年来暗中保护苏凌云，等待时机恢复前朝。

**关键洞察**: 苏凌云体内封印着前朝公主的内力和身世秘密、碧玉实为前朝贵族后裔、东方怜的孩子不是当朝血脉、陈慕白对苏家有救命之恩的亏欠、方澜身负复国使命

**权力游戏阶段：阴谋酝酿与命运交织（故事开始前3年-1年）**

东方怜册立为长公主后，发现自己的孩子可能威胁当朝皇位，决定铲除所有知情人。她利用陈慕白对苏家的感激之情，暗中下蛊控制其心智，让他以为是为了保护苏凌云才必须灭口其他人。苏凌云与陈慕白的婚约在众人撮合下确定，但她隐约感觉陈慕白态度有变。碧玉通过祖传玉佩发现了自己的身世，开始暗中调查前朝真相。方澜接到复国组织的命令，必须在苏凌云十八岁生辰时启动复国计划，时间紧迫。

**关键洞察**: 陈慕白已被东方怜的蛊毒控制心智、苏凌云体内的封印即将在十八岁时解开、碧玉掌握了关键的前朝证据、复国势力已经部署完毕

=== 时序大纲例子2 ===

**边疆战乱阶段：国家危机与身世谜团（故事开始前10年）**

边疆敌国入侵，男主父亲战死沙场，男主年幼继承侯爵之位。女主父亲作为边疆守将同样阵亡，遗孤女主被男主家收养，两人青梅竹马。敌国布置长期间谍计划，挑选美貌女子渗透朝廷，女二作为间谍被培养多年，任务是接近权贵获取军事机密。男二家族在战乱中发迹，暗中与敌国有贸易往来，但男二本人并不知情。朝廷与敌国签订密约，双方暗中交换人质和商业利益，为后续冲突埋下伏笔。

**关键洞察**: 女主父亲战死前托付重要军事机密、女二从小被训练成间谍、男二家族与敌国有不可告人的关系、和亲密约中隐藏着对女主不利的条款

**成长情愫阶段：情根深种与命运安排（故事开始前5年-2年）**

男主女主长大成人，两情相悦确定婚约。然而朝廷发现边疆有异动，怀疑有内奸，开始秘密调查各大家族。女二奉命接近男主获取其父留下的军事布防图，故意制造机会与男主相遇。男主为保护女主不被卷入政治斗争，故意与她疏远，但内心痛苦。女主不明真相，以为男主移情别恋，开始接受男二的追求。男二发现自己对女主动了真心，但也发现了家族与敌国的勾结，内心挣扎。朝廷密探发现女二身份可疑，男主被迫与女二订婚以获取敌国情报。

**关键洞察**: 男主知道女二是间谍但故意接近、女主误会了男主的真实意图、男二开始怀疑自己家族的立场、朝廷已经掌握部分敌国间谍网络

=== 时序大纲例子3 ===

**企业帝国阶段：财富积累与仇恨萌芽（故事开始前20年）**

徐氏集团创始人徐天明白手起家，与司家先祖司正康曾是生死之交。两家约定子女联姻，共同发展事业。然而司正康在商业谈判中出卖徐天明，导致徐氏几近破产，徐天明愤而与司家决裂。司家趁机恶意收购徐氏股份，但徐天明凭借过人商业头脑东山再起，徐氏集团日益壮大。司家因此怀恨在心，开始布局长期复仇计划。同时期，国际女特工林飒在一次任务中重伤失忆，被不明身份的人救走隐藏身份。

**关键洞察**: 司徐两家有深仇大恨、司家从一开始就计划复仇、林飒的真实身份埋藏在国际特工组织中、徐天明预料到司家会报复

**联姻陷阱阶段：精心布局与身份替换（故事开始前5年-1年）**

司家新一代当家司睿轩表面与徐家和好，提出联姻修复关系。徐幼雪天真善良，相信爱情，嫁入司家后却发现这是一个精心设计的陷阱。司家在徐氏集团内部安插内鬼，暗中挪用资金，同时虐待徐幼雪使其不能生育，确保徐氏血脉断绝。林飒在这期间作为失忆的普通人生活，但在一次意外中部分恢复记忆，发现自己被卷入了一个巨大的阴谋。徐天明察觉到危险，秘密修改遗嘱，将公司控制权设置复杂的继承条件。

**关键洞察**: 徐幼雪的婚姻从一开始就是陷阱、司家已经在徐氏集团内部掌控关键位置、林飒开始恢复特工记忆、徐天明早有防备措施

请以JSON格式返回，字段如下：

{
  "stages": [
    {
      "title": "[string] 时序阶段标题（必须包含时间信息，如'历史背景阶段：XX事件（故事开始前XX年）'）",
      "stageSynopsis": "[string] 按时间顺序的阶段梗概，详细描述该时期发生的事件、角色行为和环境变化（约200-300字符）",
      "event": "[string] 该时序阶段的核心关键事件内容，体现前因后果关系",
      "emotionArcs": [
        {
          "characters": ["[string] 角色名"],
          "content": "[string] 该时序阶段中角色的情感发展变化描述"
        }
      ],
      "relationshipDevelopments": [
        {
          "characters": ["[string] 角色名1", "[string] 角色名2"],
          "content": "[string] 该时序阶段中角色关系的发展变化描述"
        }
      ],
      "insights": ["[string] 该阶段揭示的关键信息1（必须是具体事实，如'X是Y的身份'、'X做了Y事件'）", "[string] 关键信息2"]
    }
  ]
}

**CRITICAL: 只输出纯JSON格式，绝对不要在JSON后添加任何解释、设计说明、补充内容或其他文本。JSON结构必须完整且正确。**`,
  outputFormat: 'json',
  responseWrapper: '```json',
  variables: ['params.outlineSettingsJson', 'params.requirements', 'params.stageGuidance']
}; 