export const outlineTemplate = {
  id: 'chronological_outline',
  name: 'Chronological Story Outline Generation',
  promptTemplate: `你是一位深耕短剧创作的资深编剧，尤其擅长创作引人入胜、节奏明快、反转强烈的爆款短剧。
根据用户提供的故事灵感，请创作一个**时序大纲（Chronological Outline）**。%%params.episodeInfo%%

**⏰ 时序大纲说明**：
这不是直接的剧集拍摄顺序，而是按照**时间顺序**梳理整个故事世界中发生的所有事件，包括：
- **历史背景事件**：故事发生前的重要历史、家族历史、角色过往经历
- **前因后果**：某些事件的起因，也是独立的事件
- **隐藏线索**：用于flashback、回忆、揭秘的历史事件，也要放在时间线里
- **世界观建构**：角色关系的形成过程、强烈情感起源、动机、都应该在时间线里体现


**完整时间轴**：

最后的时间线应该是从最早的相关事件到故事结局的完整时间线（再次强调：不是剧集播出顺序）

**时序大纲的价值**：
- 为编剧提供完整的故事世界观和时间脉络
- 确保剧情逻辑的前后呼应和因果关系
- 为flashback场景和角色动机提供详实背景
- 避免剧情漏洞和时间线事件
**📺 制作规格**：
- **目标平台**: %%params.platform%%
- **故事类型**: %%params.genre%%
- **特殊要求**: %%params.requirements%%

故事灵感：%%params.userInput%%

**重要时间规划原则**：
1. **集数与时间的关系**：
   - 避免时间跨度过大但事件稀少的情况
   
2. **事件密度指导**：
   - 高密度期（1天多件事）：危机爆发、冲突升级、关键转折
   - 中密度期（1-2天一件事）：调查取证、关系发展、计划实施
   - 低密度期（数天一件事）：恢复期、等待期、铺垫期

3. **时间连贯性要求**：
   - 明确标注具体日期范围（如"第1-3天"而非笼统的"前期"）
   - 事件数量必须与时间跨度相匹配
   - 考虑事件的现实执行时间（如调查需要时间、恢复需要时间）

**📱 平台化创作指导（基于%%params.platform%%）**：

- 注重视觉冲击力和快节奏剪辑适配
- 每集必须有1-2个强烈的情绪爆点
- 适合竖屏拍摄的场景设计
- 台词简洁有力，易于记忆和传播
- 剧情要兼顾拍摄的难度和可行性



请严格按照以下要求和JSON格式输出：

1.  **剧名 (title)**: 一个极具吸引力、能瞬间抓住眼球的短剧标题，精准概括核心看点。
2.  **题材类型 (genre)**: 明确的短剧类型
3.  **目标受众 (target_audience)**: 
    *   **demographic**: [string] 主要受众群体（如"95-05年女性"、"18-35岁都市白领"、"大学生及刚毕业群体"）
    *   **core_themes**: [string[]] 核心主题，需精准触达目标受众痛点
4.  **产品卖点 (selling_points)**: 列出3-5个商业化推广的核心卖点，用于营销推广和产品定位。要求：
    *   **紧扣社会热点话题**
    *   **明确价值导向**
    *   **贴合目标受众**
    *   **具备传播性**
    *   **商业价值明确**
    
    示例格式："聚焦当代年轻人容貌焦虑问题，传递内在美胜过外在美的价值观念"、"探讨职场新人面临的道德选择，弘扬诚实守信的职业精神"
5.  **情感爽点 (satisfaction_points)**: 列出3-5个最能激发观众情绪、构成"爽点"的核心情节或元素。要求：
    *   **情绪爆点明确**: 每个爽点都要能瞬间引爆观众情绪，如愤怒、兴奋、感动、解气等
    *   **反转效果强烈**: 情节发展出人意料，形成强烈的心理落差和惊喜感
    *   **代入感强**: 观众容易将自己代入主角，体验到满足感和成就感
    *   **节奏把控精准**: 爽点出现的时机恰到好处，不拖沓不突兀
    
    常见爽点类型：
    - **身份反转类**: "被看不起的灰姑娘原来是隐藏的豪门千金"
    - **打脸复仇类**: "曾经嘲笑主角的恶人被主角的成功狠狠打脸"
    - **能力觉醒类**: "平凡女孩突然获得超能力，逆袭成为最强者"
    - **情感逆袭类**: "冷酷总裁为了女主主动放下身段，公开示爱"
    - **正义伸张类**: "坏人得到应有惩罚，好人获得圆满结局"
6.  **故事设定 (setting)**:
    *   **core_setting_summary**: [string] 一句话核心设定
    *   **key_scenes**: [string[]] 2-3个推动剧情发展的核心场景
7.  **人物角色 (characters)**: **完整的角色体系数组，必须体现去脸谱化要求**，每个人物对象包含以下字段：
    *   **name**: [string] 人物姓名
    *   **type**: [string] 角色类型（"male_lead", "female_lead", "male_second", "female_second", "male_supporting", "female_supporting", "antagonist", "other"）
    *   **description**: [string] 人物的复合性格特征及核心目标/困境，避免单一化标签
    *   **age**: [string] 年龄（如"25岁"、"30多岁"、"中年"等）
    *   **gender**: [string] 性别（"男"或"女"）
    *   **occupation**: [string] 职业（如"CEO"、"学生"、"医生"等）
    *   **personality_traits**: [string[]] 主要性格特点，必须包含优缺点，体现人物复杂性
    *   **character_arc**: [string] 人物成长轨迹，展现从缺陷到成长的完整变化
    *   **relationships**: {[key: string]: string} 与其他角色的复杂关系，避免简单对立
    *   **key_scenes**: [string[]] 该角色的重要戏份场景
    
    **去脸谱化人物塑造要求**:
    *   **避免极端化**: 不设计纯粹的"完美主角"或"邪恶反派"
    *   **动机合理化**: 每个角色的行为都要有符合逻辑的内在动机
    *   **缺陷人性化**: 正面角色要有明显缺点，反面角色要有可理解的立场
    *   **成长轨迹**: 主要角色都应该有明确的心理变化和成长过程
    *   **关系复杂化**: 人物关系不应该是简单的敌友二分，要有层次感
8.  **时序发展阶段 (chronological_stages)**: **按时间顺序创建完整的故事发展阶段**：
    
    **阶段数量要求**：%%params.stageGuidance%%
    - **必须包含历史背景阶段**：从重要的历史事件、角色过往开始
    - **完整时间线覆盖**：从故事世界的起源事件到最终结局
    - **前因后果串联**：每个阶段都要说明与前后阶段的因果关系
    - **时间顺序严格**：按照事件发生的真实时间顺序排列，不是剧集播出顺序
    
    **每个阶段必须包含以下信息：**
    
    *   **title**: 阶段标题，简洁概括该阶段的核心内容
    *   **stageSynopsis**: 详细描述该阶段的故事发展、角色行为和情感变化（约200-300字符）
    *   **event**: 该阶段的核心关键事件内容
    *   **emotionArcs**: 情感变化轨迹数组，每个包含：
        - **characters**: 涉及的角色名称数组
        - **content**: 具体情感发展描述
    *   **relationshipDevelopments**: 人物关系发展变化数组，每个包含：
        - **characters**: 涉及的角色名称数组  
        - **content**: 关系发展变化描述
    *   **insights**: 观众关键信息数组，必须是具体的剧情事实（如"李小明是王大华的亲生儿子"、"张三故意隐瞒了车祸真相"、"赵四与公司内鬼暗中勾结"），这些信息对理解后续非时序剧集展开至关重要
    
    **时间连贯性要求**：
    - 事件发展符合现实逻辑
    - 阶段间时间连续，无跳跃或重叠
    - 关键事件时间间隔合理

**短剧创作核心要求 (非常重要！):**
-   **题材新颖**: 题材要新颖有创意，不要老旧、老套
-   **节奏极快**: 剧情推进迅速，不拖沓，每一分钟都要有信息量或情绪点。
-   **冲突强烈**: 核心矛盾要直接、尖锐，能迅速抓住观众。
-   **反转惊人**: 设计至少1-2个出人意料的情节反转。
-   **情绪到位**: 准确拿捏观众的情绪，如愤怒、喜悦、紧张、同情等，并快速给予满足（如"打脸"情节）。
-   **人物鲜明**: 主角和核心对手的人物性格和动机要清晰、极致
-   **去脸谱化要求**: 避免刻板印象和单一化人物设定，每个角色都应该有复杂的动机、合理的缺陷和成长空间，避免纯粹的"好人"或"坏人"标签。
-   **人物关系复杂**: 要有多个人物（4-8个），人物之间的互相关系要复杂，不要简单对立，要有合理的动机和情感变化。
-   **结局爽快**: 结局要干脆利落，给观众明确的情感释放。
-   **紧扣灵感**: 所有设计必须围绕原始故事灵感展开，并将其特点放大。
-   **避免"电影感"**: 不要追求复杂的叙事结构、过多的角色内心戏或宏大的世界观。专注于简单直接、冲击力强的单集故事。
-   **阶段内容要求**: 每个stages条目都必须包含足够的情节细节、角色行动、环境描述、情感变化等
-   **按照时间顺序**: 这个大纲并不是最终每集成稿，而是按照时间顺序将故事发展过程进行梳理，所以必须按照时间顺序来写
-   **时间规划合理性**: 必须确保时间框架与事件密度相匹配，避免不合理的时间安排。
-   **逻辑合理性**: 确保所有情节发展符合角色性格和现实逻辑，避免为了剧情需要而强行推进。
-   **关键洞察要求**: 每个阶段的insights必须是具体的剧情事实（如"X是Y的身份"、"X做了Y事件"、"X与Y有Z关系"），不能是抽象概念或模糊描述。


=== 时序大纲例子1 ===

**历史背景阶段：前朝覆灭与身世埋藏（故事开始前15年）**

前朝宁王朝灭亡时，御医苏策冒死救出宁王朝公主，公主临终前将内力传给刚出生的女儿苏凌云，并托付苏策抚养。同时，前朝侍女碧玉的家族被灭门，她作为唯一幸存者被苏策收留。邻国质子东方怜与当朝太子秘密相恋，怀有身孕后太子战死，东方怜为保胎儿和自己性命，隐瞒怀孕真相。陈慕白幼时曾被苏家救命，对苏凌云暗生情愫，发誓要娶她为妻。方澜作为宁王朝遗留的暗卫首领，多年来暗中保护苏凌云，等待时机恢复前朝。

**关键洞察**: 苏凌云体内封印着前朝公主的内力和身世秘密、碧玉实为前朝贵族后裔、东方怜的孩子不是当朝血脉、陈慕白对苏家有救命之恩的亏欠、方澜身负复国使命

**权力游戏阶段：阴谋酝酿与命运交织（故事开始前3年-1年）**

东方怜册立为长公主后，发现自己的孩子可能威胁当朝皇位，决定铲除所有知情人。她利用陈慕白对苏家的感激之情，暗中下蛊控制其心智，让他以为是为了保护苏凌云才必须灭口其他人。苏凌云与陈慕白的婚约在众人撮合下确定，但她隐约感觉陈慕白态度有变。碧玉通过祖传玉佩发现了自己的身世，开始暗中调查前朝真相。方澜接到复国组织的命令，必须在苏凌云十八岁生辰时启动复国计划，时间紧迫。

**关键洞察**: 陈慕白已被东方怜的蛊毒控制心智、苏凌云体内的封印即将在十八岁时解开、碧玉掌握了关键的前朝证据、复国势力已经部署完毕

=== 时序大纲例子2 ===

**边疆战乱阶段：国家危机与身世谜团（故事开始前10年）**

边疆敌国入侵，男主父亲战死沙场，男主年幼继承侯爵之位。女主父亲作为边疆守将同样阵亡，遗孤女主被男主家收养，两人青梅竹马。敌国布置长期间谍计划，挑选美貌女子渗透朝廷，女二作为间谍被培养多年，任务是接近权贵获取军事机密。男二家族在战乱中发迹，暗中与敌国有贸易往来，但男二本人并不知情。朝廷与敌国签订密约，双方暗中交换人质和商业利益，为后续冲突埋下伏笔。

**关键洞察**: 女主父亲战死前托付重要军事机密、女二从小被训练成间谍、男二家族与敌国有不可告人的关系、和亲密约中隐藏着对女主不利的条款

**成长情愫阶段：情根深种与命运安排（故事开始前5年-2年）**

男主女主长大成人，两情相悦确定婚约。然而朝廷发现边疆有异动，怀疑有内奸，开始秘密调查各大家族。女二奉命接近男主获取其父留下的军事布防图，故意制造机会与男主相遇。男主为保护女主不被卷入政治斗争，故意与她疏远，但内心痛苦。女主不明真相，以为男主移情别恋，开始接受男二的追求。男二发现自己对女主动了真心，但也发现了家族与敌国的勾结，内心挣扎。朝廷密探发现女二身份可疑，男主被迫与女二订婚以获取敌国情报。

**关键洞察**: 男主知道女二是间谍但故意接近、女主误会了男主的真实意图、男二开始怀疑自己家族的立场、朝廷已经掌握部分敌国间谍网络

=== 时序大纲例子3 ===

**企业帝国阶段：财富积累与仇恨萌芽（故事开始前20年）**

徐氏集团创始人徐天明白手起家，与司家先祖司正康曾是生死之交。两家约定子女联姻，共同发展事业。然而司正康在商业谈判中出卖徐天明，导致徐氏几近破产，徐天明愤而与司家决裂。司家趁机恶意收购徐氏股份，但徐天明凭借过人商业头脑东山再起，徐氏集团日益壮大。司家因此怀恨在心，开始布局长期复仇计划。同时期，国际女特工林飒在一次任务中重伤失忆，被不明身份的人救走隐藏身份。

**关键洞察**: 司徐两家有深仇大恨、司家从一开始就计划复仇、林飒的真实身份埋藏在国际特工组织中、徐天明预料到司家会报复

**联姻陷阱阶段：精心布局与身份替换（故事开始前5年-1年）**

司家新一代当家司睿轩表面与徐家和好，提出联姻修复关系。徐幼雪天真善良，相信爱情，嫁入司家后却发现这是一个精心设计的陷阱。司家在徐氏集团内部安插内鬼，暗中挪用资金，同时虐待徐幼雪使其不能生育，确保徐氏血脉断绝。林飒在这期间作为失忆的普通人生活，但在一次意外中部分恢复记忆，发现自己被卷入了一个巨大的阴谋。徐天明察觉到危险，秘密修改遗嘱，将公司控制权设置复杂的继承条件。

**关键洞察**: 徐幼雪的婚姻从一开始就是陷阱、司家已经在徐氏集团内部掌控关键位置、林飒开始恢复特工记忆、徐天明早有防备措施

=== 人物例子1  ===

女主 盛沧澜

镇国将军府的嫡女，全京城盛名远扬的京城贵女，因为年少时的爱意对男主爱慕已久，众人皆镇国公之女即将下嫁男主，只等男主率兵归来，谁知，男主归来当日，求娶的竟另有他人。女主心灰意冷，决心嫁给他人，活出自己的新生。

男主 裴昭

威名赫赫的护国公将军，战勇飒爽，威风凛凛。从小和女主一起长大，为了自己的父母家族，瞒着女主，和长公主联姻，后面误会解除，但破镜难圆，等解开蛊毒的那一刻，两人已经物是人非，开启追妻火葬场。

女反 宋娇娇

长公主，对裴昭一见倾心，甘愿付出一切来为男主付出，面对女主高高在上，实际上无比自卑，在察觉到男主心里有女主的时候，对女主起了杀心，最后自食恶果。

男配 慕容尘

京城首屈一指的首富，富可敌国，因年少和女主的一面之缘便一直将女主放在心上，对女主极好，默默守护类型，用婚约的名义将女主拉来自己身边，对女主倾其所有，最后男二上位。

配角：

盛云浩 女主的父亲，威风赫赫的镇国将军。
柳沐言 女主的母亲，镇国公府的当家主母。

=== 人物例子2  ===

苏若水/林姝瑶：（女一）18岁，表面温柔小白花，实则果敢聪明黑莲花，三年前苏府遭受灭顶之灾，重伤的苏朗舟带着苏若水逃出苏家，命悬一线之际被林翰扬所救。因长相与林姝瑶有三分相像，便以林翰扬之女相称，后得知害得苏家家破人亡的就是林家，便开始复仇。

傅淮景：（男一）22岁，大渝国二皇子，生母乃皇后的贴身宫女，小时候受尽欺凌，长大后乖觉狠戾，杀伐果断，疯批偏执，被人称为修罗王爷，但内心善良，有恩必报。曾受恩与左相苏策，与苏若水亦有一面之缘，在帮苏若水找害苏家的幕后凶手时也发现生母被害的事实，二人联手将罪魁祸首扳倒，感情也与日俱增。

尹芊雪：（女二）18岁，尹氏长女，狐媚娇艳，立志要成为太子妃，便一直在三位皇子中摇摆不定，自大皇子双腿残疾后瞄上二皇子，奈何傅淮景对其漠视，再加之生母身份低微，便与三皇子明勾暗结，视林姝瑶为眼中盯。

傅淮勋：（男二）20岁，大渝国三皇子，生母贵妃，林家有意与三皇子联姻，三皇子却对尹芊雪一见钟情，处处为难林姝瑶，最终自食恶果，与太子之位失之交臂。

林翰扬：45岁左右，大渝国右相，权倾朝野，心狠手辣，一心想把控朝局，原本支持大皇子，与支持二皇子的苏策产生分歧，便设计害得苏家灭门，后又支持三皇子，便让苏若水假扮死去的女儿林姝瑶嫁给三皇子，从中又操控苏朗舟令苏若水乖乖听话，最后付出应有代价。

苏朗舟：20岁，因为知道是林家害了苏家，被林父得知，便被折磨得疯傻，只剩下最后一口气，被救后与苏若水联手，共同铲除了林家。

=== 亮点/爆点 例子 ===

1. 高能职业设定：谈判专家+微表情专家

双强人设：男主是冷静果决的谈判专家，女主是敏锐犀利的微表情专家，专业互补，破案手法新颖。

职业对抗变暧昧：从互相质疑到默契配合，职业特性成为情感推拉的催化剂（如"你呼吸频率乱了""你右眉抽动是在撒谎"）。

2. 悬疑线：14年绑架案+身份反转

养父是终极BOSS：表面儒雅商人，实为绑架案主谋，收养女主只为灭口，颠覆传统亲情设定。

男主双重身份：曾是卧底，如今是守护者，与女主童年羁绊（"小野哥哥"）埋下情感伏笔。

高智商对决：摩尔斯电码、药物操控记忆、金融洗钱等烧脑元素，满足悬疑爱好者。

3. 甜虐交织的情感线

极限推拉：壁咚、公主抱、人工呼吸等暧昧场景，搭配"嘴上嫌弃，身体诚实"的互动模式。

救赎向爱情：男主因愧疚守护14年，女主从被操控到觉醒，双向救赎感拉满。

高光告白：机场广播"我投降，条件是你回来"成为经典台词，浪漫与职业特性结合。

4. 强情节名场面

银行劫案开场：劫匪、炸弹、空枪反转，迅速立住男女主人设。

废弃工厂决战：男主假意交易发摩尔斯电码，女主识破配合反杀，默契感爆棚。

养兄临阵反水：亦正亦邪的配角牺牲自己，增加戏剧张力。

5. 市场差异化优势

"悬疑+甜宠"复合型题材：既有刑侦剧的紧凑节奏，又有爱情剧的苏感，覆盖更广受众。

反套路设定：女主非傻白甜，能用微表情揭穿谎言；爱情线不靠误会拖沓，而是共同成长对抗危机。

一句话总结亮点：双专家设定破悬案，14年守护暗藏阴谋，极限推拉间赌上真心——这场谈判，谁先心动谁就输。


请以JSON格式返回，字段如下：
{
  "title": "[string] 剧名",
  "genre": "[string] 题材类型",
  "target_audience": {
    "demographic": "[string] 主要受众群体",
    "core_themes": ["[string] 核心主题1", "[string] 核心主题2", "[string] 核心主题3"]
  },
  "selling_points": ["[string] 产品卖点1", "[string] 产品卖点2", "[string] 产品卖点3"],
  "satisfaction_points": ["[string] 情感爽点1", "[string] 情感爽点2", "[string] 情感爽点3"],
  "setting": {
    "core_setting_summary": "[string] 一句话核心设定",
    "key_scenes": ["[string] 关键场景1", "[string] 关键场景2"]
  },
  "characters": [
    { 
      "name": "[string] 人物姓名", 
      "type": "[string] 角色类型",
      "description": "[string] 复合性格描述，避免单一标签，体现人物复杂性和内在矛盾",
      "age": "[string] 年龄",
      "gender": "[string] 性别", 
      "occupation": "[string] 职业",
      "personality_traits": ["[string] 优点特质", "[string] 缺陷特质", "[string] 复杂特质"],
      "character_arc": "[string] 从缺陷到成长的完整变化轨迹，体现去脸谱化要求",
      "relationships": {
        "其他角色名": "复杂关系描述，避免简单对立"
      },
      "key_scenes": ["[string] 重要场景1", "[string] 重要场景2"]
    }
  ],
  "chronological_stages": [
    {
      "title": "[string] 时序阶段标题（必须包含时间信息，如'历史背景阶段：XX事件（故事开始前XX年）'）",
      "stageSynopsis": "[string] 按时间顺序的阶段梗概，详细描述该时期发生的事件、角色行为和环境变化（约200-300字符）",
      "event": "[string] 该时序阶段的核心关键事件内容，体现前因后果关系",
          "emotionArcs": [
            {
              "characters": ["[string] 角色名"],
          "content": "[string] 该时序阶段中角色的情感发展变化描述"
            }
          ],
          "relationshipDevelopments": [
            {
              "characters": ["[string] 角色名1", "[string] 角色名2"],
          "content": "[string] 该时序阶段中角色关系的发展变化描述"
        }
      ],
      "insights": ["[string] 该阶段揭示的关键信息1（必须是具体事实，如'X是Y的身份'、'X做了Y事件'）", "[string] 关键信息2"]
    }
  ]
}

**CRITICAL: 只输出纯JSON格式，绝对不要在JSON后添加任何解释、设计说明、补充内容或其他文本。JSON结构必须完整且正确。**`,
  outputFormat: 'json',
  responseWrapper: '```json',
  variables: ['params.episodeInfo', 'params.userInput', 'params.totalEpisodes', 'params.platform', 'params.genre', 'params.requirements', 'params.stageGuidance']
};

