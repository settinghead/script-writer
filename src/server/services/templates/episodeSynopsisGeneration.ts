export const episodeSynopsisGenerationTemplate = {
  id: 'episode_synopsis_generation',
  name: 'Episode Synopsis Generation',
  promptTemplate: `ä½ æ˜¯ä¸€ä½èµ„æ·±çš„çŸ­å‰§ç¼–å‰§ï¼Œä¸“é—¨è´Ÿè´£å°†æ•…äº‹é˜¶æ®µæ¢—æ¦‚å±•å¼€ä¸ºå…·ä½“çš„åˆ†é›†å‰§æƒ…å¤§çº²ã€‚

**é‡è¦æé†’ï¼šè¿™æ˜¯æ•…äº‹ä¸­çš„ä¸€ä¸ªç‰¹å®šé˜¶æ®µï¼Œä¸æ˜¯å®Œæ•´æ•…äº‹ã€‚ä½ åªéœ€è¦ä¸ºè¿™ä¸ªé˜¶æ®µçš„å†…å®¹ç”Ÿæˆå‰§é›†ï¼Œä¸èƒ½è¶…å‡ºè¯¥é˜¶æ®µçš„èŒƒå›´ï¼**

**ðŸ“º æ•´ä½“åˆ¶ä½œè§„æ ¼ï¼ˆç»§æ‰¿è‡ªå‰åºé˜¶æ®µï¼‰**ï¼š
- **ç›®æ ‡å¹³å°**: %%params.platform%%
- **æ•…äº‹ç±»åž‹**: %%params.genre%%
- **ç‰¹æ®Šè¦æ±‚**: %%params.requirements%%
- **æ€»é›†æ•°**: %%params.totalEpisodes%%é›†
- **æ¯é›†æ—¶é•¿**: %%params.episodeDuration%%åˆ†é’Ÿ

**ðŸŽ¬ å½“å‰é˜¶æ®µè¦æ±‚**ï¼š
æ ¹æ®ä»¥ä¸Šæ•´ä½“åˆ¶ä½œè§„æ ¼ï¼Œä¸ºç¬¬%%params.stageNumber%%é˜¶æ®µç”Ÿæˆ %%params.numberOfEpisodes%% é›†çš„è¯¦ç»†å‰§é›†å¤§çº²ï¼š

**é˜¶æ®µä¿¡æ¯**ï¼š
- **é˜¶æ®µæ¢—æ¦‚**: %%params.stageSynopsis%%
- **æ—¶é—´è·¨åº¦**: %%params.timeframe%%
- **å¼€å§‹çŠ¶æ€**: %%params.startingCondition%%
- **ç»“æŸçŠ¶æ€**: %%params.endingCondition%%
- **èµ·å§‹äº‹ä»¶**: %%params.stageStartEvent%%
- **ç»“æŸäº‹ä»¶**: %%params.stageEndEvent%%
- **å…³é”®äº‹ä»¶**: %%params.keyPoints%%
- **å…³ç³»å‘å±•**: %%params.relationshipLevel%%
- **æƒ…æ„Ÿè½¨è¿¹**: %%params.emotionalArc%%
- **å¤–éƒ¨åŽ‹åŠ›**: %%params.externalPressure%%



**ðŸ“± å¹³å°åŒ–å‰§é›†æŒ‡å¯¼ï¼ˆåŸºäºŽ%%params.platform%%ï¼‰**ï¼š

- æ¯é›†å¼€å¤´3ç§’å†…å¿…é¡»æœ‰å¼ºçƒˆè§†è§‰å†²å‡»
- å¯¹è¯è¦ç®€æ´æœ‰åŠ›ï¼Œé€‚åˆç«–å±è§‚çœ‹
- æ¯é›†è‡³å°‘1ä¸ªå¯ä»¥ç‹¬ç«‹ä¼ æ’­çš„é‡‘å¥æˆ–åœºé¢
- é’©å­è¦åœ¨15ç§’å†…å»ºç«‹ï¼Œç¬¦åˆçŸ­è§†é¢‘ä¹ æƒ¯
- å‰§æƒ…è¦å…¼é¡¾æ‹æ‘„çš„éš¾åº¦å’Œå¯è¡Œæ€§

**ðŸš¨ ç”Ÿæˆè¦æ±‚ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰**ï¼š
- **å¿…é¡»ç”Ÿæˆå®Œæ•´çš„ %%params.numberOfEpisodes%% é›†**ï¼šä¸èƒ½å°‘äºŽ %%params.numberOfEpisodes%% é›†ï¼Œä¹Ÿä¸èƒ½å¤šäºŽ %%params.numberOfEpisodes%% é›†
- æ¯é›†æ—¶é•¿ï¼šçº¦%%params.episodeDuration%%åˆ†é’Ÿ%%params.customRequirements%%

**âš ï¸ é‡è¦ï¼šè¯·ç¡®ä¿è¾“å‡ºçš„JSONæ•°ç»„åŒ…å«exactly %%params.numberOfEpisodes%% ä¸ªå®Œæ•´çš„episodeå¯¹è±¡ï¼Œä»Žç¬¬%%params.startingEpisode%%é›†åˆ°ç¬¬%%params.endingEpisode%%é›†ï¼Œç¼ºä¸€ä¸å¯ï¼**


**ðŸ”¥ æƒ…æ„Ÿçº¿å‘å±•è¦æ±‚ï¼ˆè§£å†³ä¸“ä¸šç¼–å‰§åé¦ˆçš„æ ¸å¿ƒé—®é¢˜ï¼‰**ï¼š
1. **ç”·å¥³ä¸»å…³ç³»å¿…é¡»æ˜¯æ ¸å¿ƒ**ï¼šæ¯é›†éƒ½è¦æœ‰ç”·å¥³ä¸»çš„ç›´æŽ¥äº’åŠ¨å’Œæƒ…æ„ŸæŽ¨è¿›
2. **è§’è‰²è¿žç»­æ€§**ï¼šä¸»è¦è§’è‰²ä¸èƒ½æ— æ•…æ¶ˆå¤±ï¼Œé…è§’å‡ºçŽ°è¦æœ‰åˆç†åŠ¨æœº
3. **é’©å­è§£å†³æ—¶é—´**ï¼šæœ¬é˜¶æ®µå†…çš„æ‚¬å¿µå¿…é¡»åœ¨3é›†å†…ç»™å‡ºè§£ç­”æˆ–å®žè´¨æ€§è¿›å±•
4. **å…³ç³»å‘å±•èŠ‚å¥**ï¼šæƒ…æ„Ÿå…³ç³»è¦æœ‰æ˜Žç¡®çš„æŽ¨è¿›å±‚æ¬¡ï¼Œä¸èƒ½åŽŸåœ°è¸æ­¥
5. **å†²çªåˆç†åŒ–**ï¼šæ‰€æœ‰å†²çªéƒ½è¦æœåŠ¡äºŽä¸»çº¿å’Œè§’è‰²æˆé•¿

**æ ¸å¿ƒçº¦æŸæ¡ä»¶**ï¼š
1. **ä¸¥æ ¼é™åˆ¶åœ¨é˜¶æ®µèŒƒå›´å†…**ï¼šç”Ÿæˆçš„æ‰€æœ‰å‰§é›†å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°é˜¶æ®µä¿¡æ¯è¿›è¡Œï¼Œä¸èƒ½å¼•å…¥è¯¥é˜¶æ®µä¹‹å¤–çš„æƒ…èŠ‚
2. **æ—¶é—´è¾¹ç•Œçº¦æŸ**ï¼šå‰§é›†å¿…é¡»åœ¨æŒ‡å®šçš„æ—¶é—´è·¨åº¦å†…å‘å±•ï¼Œä¸èƒ½è¶…å‰æˆ–æ»žåŽ
3. **çŠ¶æ€è½¬æ¢çº¦æŸ**ï¼šä»Ž"å¼€å§‹çŠ¶æ€"é€æ­¥å‘å±•åˆ°"ç»“æŸçŠ¶æ€"ï¼Œä¸èƒ½è·³è·ƒæˆ–è¶…è¶Š
4. **äº‹ä»¶è¾¹ç•Œçº¦æŸ**ï¼šç¬¬1é›†å¿…é¡»ä»Ž"èµ·å§‹äº‹ä»¶"å¼€å§‹æˆ–ç´§æŽ¥å…¶åŽï¼Œæœ€åŽä¸€é›†å¿…é¡»ä»¥"ç»“æŸäº‹ä»¶"ç»“å°¾
5. **é‡Œç¨‹ç¢‘åˆ†å¸ƒ**ï¼šå…³é”®é‡Œç¨‹ç¢‘å¿…é¡»åœ¨é€‚å½“é›†æ•°ä¸­å®žçŽ°ï¼Œç¡®ä¿è¿›åº¦åˆç†åˆ†é…
6. **å…³ç³»/æƒ…æ„Ÿçº¦æŸ**ï¼šäººç‰©å…³ç³»å’Œæƒ…æ„Ÿå¿…é¡»æŒ‰ç…§æŒ‡å®šè½¨è¿¹å‘å±•ï¼Œä¸èƒ½è¿‡å¿«æˆ–è¿‡æ…¢
7. **å¤–éƒ¨åŽ‹åŠ›ä¸€è‡´æ€§**ï¼šå¤–éƒ¨åŽ‹åŠ›çŠ¶å†µå¿…é¡»ä¸Žé˜¶æ®µè®¾å®šä¿æŒä¸€è‡´
8. **ä¿æŒæ‚¬å¿µå’Œè¿žç»­æ€§**ï¼šæ¯é›†ç»“å°¾è¦ä¸ºåŽç»­é›†æ•°å’ŒåŽç»­é˜¶æ®µç•™ä¸‹å‘å±•ç©ºé—´
9. **å†…å®¹åˆ†å¸ƒå‡åŒ€**ï¼šå°†é˜¶æ®µå†…å®¹å‡åŒ€åˆ†é…åˆ°æ‰€æœ‰é›†æ•°ä¸­ï¼Œç¡®ä¿æ¯é›†éƒ½æœ‰è¶³å¤Ÿçš„å†…å®¹

**å‰§é›†å¤§çº²è¦æ±‚**ï¼š
1. **å‰§é›†æ ‡é¢˜**ï¼šæ¯é›†éƒ½è¦æœ‰ä¸€ä¸ªå¯Œæœ‰å¸å¼•åŠ›ã€ä½“çŽ°è¯¥é›†æ ¸å¿ƒçœ‹ç‚¹çš„æ ‡é¢˜ï¼ˆ8-15å­—ï¼‰
2. **å‰§é›†ç®€ä»‹**ï¼šæ¯é›†100-150å­—çš„è¯¦ç»†å‰§æƒ…ç®€ä»‹ï¼ŒåŒ…å«ï¼š
   - è¯¥é›†çš„æ ¸å¿ƒå†²çªå’Œä¸»è¦äº‹ä»¶
   - ä¸»è¦è§’è‰²çš„è¡ŒåŠ¨å’Œæƒ…æ„Ÿå˜åŒ–
   - è¯¥é›†çš„æƒ…ç»ªé«˜æ½®ç‚¹
   - ä¸Žå‰åŽé›†çš„è¿žæŽ¥å…³ç³»

3. **å…³é”®äº‹ä»¶**ï¼šæ¯é›†3-5ä¸ªæŽ¨åŠ¨å‰§æƒ…å‘å±•çš„å…³é”®äº‹ä»¶ï¼Œå¿…é¡»æ˜¯å…·ä½“çš„**äº‹ä»¶**è€ŒéžåŠ¨ä½œæˆ–æƒ…æ„ŸçŠ¶æ€
   - äº‹ä»¶è¦å…·ä½“å¯æ‰§è¡Œï¼Œæœ‰æ˜Žç¡®çš„æ—¶é—´åœ°ç‚¹äººç‰©
   - äº‹ä»¶ä¹‹é—´è¦æœ‰é€»è¾‘å…³è”å’Œå› æžœå…³ç³»
   - äº‹ä»¶è¦èƒ½å¤ŸæŽ¨åŠ¨äººç‰©å…³ç³»å‘å±•æˆ–æ­ç¤ºé‡è¦ä¿¡æ¯
   - **æ‰€æœ‰äº‹ä»¶å¿…é¡»åœ¨é˜¶æ®µä¿¡æ¯çš„çº¦æŸèŒƒå›´å†…**

4. **ç»“å°¾æ‚¬å¿µ**ï¼šæ¯é›†ç»“å°¾çš„æ‚¬å¿µè®¾ç½®ï¼Œå¼•å‘è§‚ä¼—å¯¹ä¸‹ä¸€é›†çš„æœŸå¾…
   - æ‚¬å¿µå¿…é¡»æ˜¯å…·ä½“çš„**äº‹ä»¶**ï¼Œä¸èƒ½æ˜¯æƒ…æ„ŸçŠ¶æ€æˆ–å¿ƒç†æ´»åŠ¨
   - è¦ä¸Žå‰§æƒ…å‘å±•ç´§å¯†ç›¸å…³ï¼Œä¸ºä¸‹é›†åšé“ºåž«
   - è¦æœ‰è¶³å¤Ÿçš„å¸å¼•åŠ›è®©è§‚ä¼—æƒ³ç»§ç»­è§‚çœ‹
   - **ä¸èƒ½è®¾ç½®è¶…å‡ºå½“å‰é˜¶æ®µèŒƒå›´çš„æ‚¬å¿µ**

%%params.episodeSpecificInstructions%%


**å†…å®¹åˆ†é…ç­–ç•¥**ï¼š
- å°†é˜¶æ®µé‡Œç¨‹ç¢‘æŒ‰é›†æ•°åˆç†åˆ†é…ï¼ˆå¦‚4é›†é˜¶æ®µï¼Œæ¯é›†å®žçŽ°1ä¸ªé‡Œç¨‹ç¢‘ï¼‰
- ç¡®ä¿æ¯é›†éƒ½æœ‰ç‹¬ç«‹çš„å°é«˜æ½®ï¼ŒåŒæ—¶æŽ¨è¿›æ•´ä½“é˜¶æ®µå‘å±•
- å‰å‡ é›†é‡ç‚¹å»ºç«‹è¯¥é˜¶æ®µçš„èƒŒæ™¯å’Œå†²çª
- ä¸­é—´å‡ é›†æ·±å…¥å‘å±•äººç‰©å…³ç³»å’ŒçŸ›ç›¾
- åŽå‡ é›†æŽ¨å‘è¯¥é˜¶æ®µçš„é«˜æ½®ï¼Œä½†ä¸è§£å†³æ•´ä¸ªæ•…äº‹çš„ä¸»è¦å†²çª

**é˜¶æ®µè¾¹ç•Œæ£€æŸ¥æ¸…å•**ï¼š
- âœ… æ˜¯å¦åœ¨æŒ‡å®šæ—¶é—´è·¨åº¦å†…ï¼Ÿ
- âœ… æ˜¯å¦ä»Žæ­£ç¡®çš„å¼€å§‹çŠ¶æ€å‡ºå‘ï¼Ÿ
- âœ… æ˜¯å¦ä»¥æ­£ç¡®çš„ç»“æŸçŠ¶æ€æ”¶å°¾ï¼Ÿ 
- âœ… æ˜¯å¦åŒ…å«æ‰€æœ‰å…³é”®é‡Œç¨‹ç¢‘ï¼Ÿ
- âœ… äººç‰©å…³ç³»æ˜¯å¦æŒ‰æŒ‡å®šè½¨è¿¹å‘å±•ï¼Ÿ
- âœ… æƒ…æ„Ÿå˜åŒ–æ˜¯å¦ç¬¦åˆæŒ‡å®šå¼§çº¿ï¼Ÿ
- âœ… å¤–éƒ¨åŽ‹åŠ›æ˜¯å¦ä¿æŒä¸€è‡´ï¼Ÿ

=== Examples ===

ç¬¬ä¸€é›†

1.å¥³ä¸»å¤§å©šå½“æ—¥ï¼Œé£Žå…‰æžç››ã€‚æ‰€æœ‰ç™¾å§“éƒ½è¯´ä»Šæ—¥ç››äº¬åŒå–œä¸´é—¨ï¼šç”·ä¸»å¸¦å…µå‡¯æ—‹ï¼Œå¥³ä¸»èº«ä¸ºæŠ¤å›½å…¬åºœä¸‹å«è£å…‰å°†å†›ã€‚

2.å¥³ä¸»æ­£ç”œèœœç€ï¼Œçªé­äººæ‹¦è½¿ï¼šç”·ä¸»è¿›åŸŽä¹‹åŽç›´æŽ¥è¿›å®«ï¼Œç”¨ä¸€èº«å†›åŠŸæ±‚æ¥çš„ä¸€é“é€€å©šåœ£æ—¨ï¼è¦å¦å¨¶è¾¹ç–†å¸¦å›žæ¥çš„å­¤å¥³ï¼Œå¹¶ä¸”å­¤å¥³â€¦â€¦å·²ç»æ€€å­•ï¼

3.å©šè½¿åœï¼Œå¥³ä¸»æŽ€å¼€ç›–å¤´ï¼Œç¥žè‰²ä¸å¯ç½®ä¿¡ã€‚

ç¬¬äºŒé›†

1.å¥³ä¸»æ¥åˆ°å©†å®¶ï¼Œå©†å©†æ­£ä¸ºå¥³ä¸»å‡ºæ°”ï¼Œå©†å©†ï¼ˆå¥½è§’è‰²ï¼‰é€šè¿‡å©†å©†ç»†æ•°å¥³ä¸»ä»˜å‡ºï¼ˆå°è¯ä¿¡æ¯æ¯”å¦‚å¥³ä¸»ä¸‹å«ï¼Œæ¯”å¦‚å¥³ä¸»å¸¦å½©ç¤¼ï¼Œæ¯”å¦‚æœªå©šå°±æŽ¥æµŽå©†å®¶ï¼‰ï¼Œå¥³å2ï¼ˆç”·2å¦¹å¦¹ï¼‰é˜»æ‹¦ï¼Œéª‚å¥³ä¸»ï¼Œå©†å©†ç”¨è†æ¡ç‹ ç‹ æŠ½ç”·ä¸»ï¼Œç”·ä¸»ä¸ä¸ºæ‰€åŠ¨ï¼Œæ‰§æ„è¦è®©å¥³ä¸»é€€å©šã€‚

2.å¥³ä¸»ä¸Šå‰è´¨é—®ï¼Œç”·ä¸»ä¸ä¸ºæ‰€åŠ¨ï¼Œè¯´åˆºç—›å¥³ä¸»çš„è¯â€”â€”éƒ½æ˜¯å¥³ä¸»ä¸€åŽ¢æƒ…æ„¿ï¼Œè‡ªå·±ä»Žæœªæ±‚å¨¶è¿‡å¥³ä¸»ã€‚

3.å¥³ä¸»æ„£ä½ï¼Œå¿ƒç¢Žã€‚

ç¬¬ä¸‰é›†

1.é—ªå›žâ€”â€”é—ªå›ž1ï¼Œå¥³ä¸»è¢«ç”·ä¸»è‹±é›„æ•‘ç¾Žã€‚é—ªå›ž2ï¼Œç”·ä¸»å‡ºå¾å½“æ—¥ï¼Œå¥³ä¸»é€ç”·ä¸»äº²æ‰‹åšçš„æˆ˜è¢ï¼Œä»†äººå°è¯å¸¦å‡ºå¥³ä¸»ä¸ºäº†åšè¿™ä¸ªæˆ˜è¢å¤šç”¨å¿ƒã€‚ã€è¿™ä¸¤ä¸ªé—ªå›žä¸èƒ½ä¸€ç¬”å¸¦è¿‡ã€‘

2.è¿™æ—¶å¥³åå…¥åœºï¼Œå¥³ä¸»å‘çŽ°å¥³åç©¿ç€è‡ªå·±åšçš„æˆ˜è¢ï¼ˆè™å¿ƒï¼‰ï¼Œå¥³åç«‹äººè®¾ï¼Œè¯´ä¸ä¼šä»‹æ„å¦‚ä½•å¦‚ä½•ï¼Œä»¥é€€ä¸ºè¿›è¯´éƒ½æ˜¯è‡ªå®¶å§å¦¹ï¼Œå¯¹ç”·ä¸»å¥½å°±å¯ä»¥ã€‚

3.ç”·ä¸»å´æ‰§æ„é€€å©šï¼Œæ‰€æœ‰äººé˜»æ‹¦ï¼Œç”·ä¸»è§å¥³ä¸»ä¸ç†ç¬ï¼Œç€æ€¥ï¼Œæ•…æ„è¯´é€€è€Œæ±‚å…¶æ¬¡ï¼Œè®©å¥³ä¸»åŽ»å½“å¦¾ï¼Œæ‰€æœ‰äººå“—ç„¶ã€‚



**è¾“å‡ºæ ¼å¼**ï¼š
è¯·ä»¥JSONæ•°ç»„çš„æ ¼å¼è¿”å›žï¼Œ**å¿…é¡»åŒ…å«å®Œæ•´çš„%%params.numberOfEpisodes%%é›†**ï¼Œæ¯ä¸ªé›†æ•°åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

[
  {
    "episodeNumber": 1,
    "title": "é›†æ ‡é¢˜",
    "synopsis": "è¯¥é›†çš„è¯¦ç»†å‰§æƒ…ç®€ä»‹ï¼ˆ100-150å­—ï¼‰",
    "keyEvents": [
      "å…·ä½“äº‹ä»¶1ï¼šæè¿°å‘ç”Ÿçš„å…·ä½“äº‹æƒ…",
      "å…·ä½“äº‹ä»¶2ï¼šæè¿°å‘ç”Ÿçš„å…·ä½“äº‹æƒ…",
      "å…·ä½“äº‹ä»¶3ï¼šæè¿°å‘ç”Ÿçš„å…·ä½“äº‹æƒ…"
    ],
    "endHook": "ç»“å°¾æ‚¬å¿µäº‹ä»¶ï¼šæè¿°å…·ä½“å‘ç”Ÿçš„æ‚¬å¿µäº‹ä»¶",
    "emotionDevelopments": [
      {
        "characters": ["è§’è‰²å1"],
        "content": "å…·ä½“çš„æƒ…æ„Ÿå˜åŒ–æè¿°ï¼Œæ¯”å¤§çº²ä¸­çš„æƒ…æ„Ÿå‘å±•æ›´è¯¦ç»†å…·ä½“ï¼Œå…³æ³¨è¯¥é›†ä¸­çš„å¾®å¦™å˜åŒ–"
      },
      {
        "characters": ["è§’è‰²å1", "è§’è‰²å2"],
        "content": "è§’è‰²é—´çš„æƒ…æ„Ÿäº’åŠ¨å˜åŒ–ï¼Œæè¿°å…·ä½“çš„æƒ…æ„Ÿè½¬å˜å’Œå†…å¿ƒæ´»åŠ¨"
      }
    ],
    "relationshipDevelopments": [
      {
        "characters": ["è§’è‰²å1", "è§’è‰²å2"],
        "content": "å…³ç³»å‘å±•çš„å…·ä½“æè¿°ï¼Œæ¯”å¤§çº²å±‚é¢æ›´åŠ ç»†è‡´ï¼Œèšç„¦è¯¥é›†ä¸­çš„å…³ç³»å˜åŒ–"
      }
    ]
  },
  {
    "episodeNumber": 2,
    "title": "é›†æ ‡é¢˜",
    "synopsis": "è¯¥é›†çš„è¯¦ç»†å‰§æƒ…ç®€ä»‹ï¼ˆ100-150å­—ï¼‰",
    "keyEvents": [
      "å…·ä½“äº‹ä»¶1ï¼šæè¿°å‘ç”Ÿçš„å…·ä½“äº‹æƒ…",
      "å…·ä½“äº‹ä»¶2ï¼šæè¿°å‘ç”Ÿçš„å…·ä½“äº‹æƒ…",
      "å…·ä½“äº‹ä»¶3ï¼šæè¿°å‘ç”Ÿçš„å…·ä½“äº‹æƒ…"
    ],
    "endHook": "ç»“å°¾æ‚¬å¿µäº‹ä»¶ï¼šæè¿°å…·ä½“å‘ç”Ÿçš„æ‚¬å¿µäº‹ä»¶",
    "emotionDevelopments": [
      {
        "characters": ["è§’è‰²å"],
        "content": "è¯¥é›†ä¸­è§’è‰²çš„æƒ…æ„Ÿå˜åŒ–"
      }
    ],
    "relationshipDevelopments": [
      {
        "characters": ["è§’è‰²å1", "è§’è‰²å2"],
        "content": "è¯¥é›†ä¸­å…³ç³»çš„å‘å±•å˜åŒ–"
      }
    ]
  },
  ...
]

**ðŸŽ­ æƒ…æ„Ÿä¸Žå…³ç³»å‘å±•è¿½è¸ªè¦æ±‚**ï¼š

**emotionDevelopmentsï¼ˆæƒ…æ„Ÿå‘å±•ï¼‰**ï¼š
- **æ¯”å¤§çº²çº§åˆ«æ›´ç»†è‡´**ï¼šæ¯é›†è¦å…³æ³¨è§’è‰²åœ¨è¯¥é›†ä¸­çš„å…·ä½“æƒ…æ„Ÿå˜åŒ–ï¼Œä¸æ˜¯å¤§çš„æƒ…æ„Ÿå¼§çº¿ï¼Œè€Œæ˜¯å¾®å¦™çš„æƒ…æ„Ÿè½¬å˜
- **å…·ä½“åŒ–æè¿°**ï¼šé¿å…"å¼€å¿ƒ"ã€"éš¾è¿‡"ç­‰ç®€å•è¯æ±‡ï¼Œè¦æè¿°å…·ä½“çš„æƒ…æ„ŸçŠ¶æ€å’Œå˜åŒ–è¿‡ç¨‹
- **å•è§’è‰²ç„¦ç‚¹**ï¼šæ¯ä¸ªæ¡ç›®ä¸»è¦å…³æ³¨ä¸€ä¸ªè§’è‰²çš„å†…å¿ƒä¸–ç•Œï¼Œä½†å¯ä»¥åŒ…æ‹¬ä¸Žå…¶ä»–è§’è‰²äº’åŠ¨æ—¶çš„æƒ…æ„Ÿååº”
- **æ‰¿æŽ¥æ€§**ï¼šè¦ä¸Žå‰ä¸€é›†çš„æƒ…æ„ŸçŠ¶æ€æœ‰é€»è¾‘è¿žæŽ¥ï¼Œä½“çŽ°æƒ…æ„Ÿå‘å±•çš„è¿žç»­æ€§
- **äº‹ä»¶é©±åŠ¨**ï¼šæƒ…æ„Ÿå˜åŒ–å¿…é¡»æœ‰å…·ä½“äº‹ä»¶ä½œä¸ºè§¦å‘ï¼Œä¸èƒ½å‡­ç©ºäº§ç”Ÿ

**relationshipDevelopmentsï¼ˆå…³ç³»å‘å±•ï¼‰**ï¼š
- **åŒå‘äº’åŠ¨**ï¼šå…³æ³¨ä¸¤ä¸ªæˆ–å¤šä¸ªè§’è‰²ä¹‹é—´å…³ç³»çš„å…·ä½“å˜åŒ–ï¼Œä¸æ˜¯å•æ–¹é¢çš„æ„Ÿå—
- **å±‚æ¬¡é€’è¿›**ï¼šå…³ç³»å‘å±•è¦æœ‰æ˜Žç¡®çš„å±‚æ¬¡å˜åŒ–ï¼Œå¦‚ä»Žé™Œç”Ÿåˆ°ç†Ÿæ‚‰ã€ä»Žè¯¯è§£åˆ°ç†è§£ã€ä»Žæ•Œå¯¹åˆ°åˆä½œç­‰
- **è¡Œä¸ºä½“çŽ°**ï¼šå…³ç³»å˜åŒ–è¦é€šè¿‡å…·ä½“çš„å¯¹è¯ã€è¡Œä¸ºã€äº’åŠ¨æ¥ä½“çŽ°ï¼Œä¸èƒ½åªæ˜¯å†…å¿ƒæ„Ÿå—
- **å†²çªä¸Žå’Œè§£**ï¼šè¦åŒ…æ‹¬å…³ç³»ä¸­çš„å¼ åŠ›å’Œç¼“è§£ï¼Œä½“çŽ°å…³ç³»å‘å±•çš„çœŸå®žæ€§
- **å¤šç»´åº¦**ï¼šå¯ä»¥åŒ…æ‹¬æƒ…æ„Ÿå…³ç³»ã€åˆ©ç›Šå…³ç³»ã€æƒåŠ›å…³ç³»ç­‰å¤šä¸ªç»´åº¦çš„å˜åŒ–

**ç»†è‡´åº¦è¦æ±‚**ï¼š
- **æ—¶é—´é¢—ç²’åº¦**ï¼šèšç„¦è¯¥é›†ä¸­å‘ç”Ÿçš„å˜åŒ–ï¼Œä¸è¦è·¨é›†æè¿°
- **æƒ…æ„Ÿå±‚æ¬¡**ï¼šåŒºåˆ†è¡¨é¢æƒ…æ„Ÿå’Œæ·±å±‚æƒ…æ„Ÿï¼ŒåŒ…æ‹¬è§’è‰²çš„å†…å¿ƒæŒ£æ‰Žå’ŒçŸ›ç›¾
- **äº’åŠ¨ç»†èŠ‚**ï¼šæè¿°è§’è‰²é—´å¯¹è¯ã€çœ¼ç¥žã€è‚¢ä½“è¯­è¨€ç­‰å¾®å¦™äº’åŠ¨ä¸­çš„æƒ…æ„Ÿå’Œå…³ç³»å˜åŒ–
- **æˆé•¿ç—•è¿¹**ï¼šæ¯ä¸ªè§’è‰²çš„æƒ…æ„Ÿæˆé•¿è¦æœ‰å¯è¿½è¸ªçš„è½¨è¿¹ï¼Œé¿å…çªç„¶çš„æ€§æ ¼è½¬å˜

**æ•°é‡æŒ‡å¯¼**ï¼š
- æ¯é›†å»ºè®®2-4ä¸ªæƒ…æ„Ÿå‘å±•æ¡ç›®
- æ¯é›†å»ºè®®1-3ä¸ªå…³ç³»å‘å±•æ¡ç›®
- ä¸»è¦è§’è‰²æ¯é›†éƒ½åº”è¯¥æœ‰æƒ…æ„Ÿæˆ–å…³ç³»çš„å˜åŒ–è¿½è¸ª
- é‡è¦é…è§’çš„å‘å±•ä¹Ÿè¦é€‚å½“å…³æ³¨

**ðŸ”¥ æœ€ç»ˆæ£€æŸ¥æé†’**ï¼š
1. **é›†æ•°ç¡®è®¤**ï¼šè¾“å‡ºçš„JSONæ•°ç»„å¿…é¡»åŒ…å«**å®Œæ•´çš„%%params.numberOfEpisodes%%ä¸ªepisodeå¯¹è±¡**
2. **ç¼–å·æ£€æŸ¥**ï¼šepisodeNumberä»Ž1åˆ°%%params.numberOfEpisodes%%ï¼Œè¿žç»­æ— é—æ¼
3. **æ ¼å¼è¦æ±‚**ï¼šåªè¾“å‡ºçº¯JSONæ•°ç»„ï¼Œä¸è¦ä»»ä½•è§£é‡Šã€è¯´æ˜Žã€æˆ–å…¶ä»–æ–‡æœ¬
4. **å®Œæ•´æ€§è¦æ±‚**ï¼šç¡®ä¿JSONæ ¼å¼æ­£ç¡®ä¸”å®Œæ•´ï¼Œæ‰€æœ‰å­—æ®µéƒ½è¦å¡«å†™
5. **å†…å®¹çº¦æŸ**ï¼šæ‰€æœ‰å†…å®¹å¿…é¡»ä¸¥æ ¼é™åˆ¶åœ¨ç»™å®šçš„é˜¶æ®µä¿¡æ¯èŒƒå›´å†…ï¼Œä¸èƒ½è¶…å‡ºè¯¥é˜¶æ®µçš„æ•…äº‹å‘å±•
6. **è´¨é‡è¦æ±‚**ï¼šæƒ…æ„Ÿå’Œå…³ç³»å‘å±•å¿…é¡»ä¸Žå‰§æƒ…äº‹ä»¶ç´§å¯†ç»“åˆï¼Œä½“çŽ°äººç‰©çš„çœŸå®žæˆé•¿è½¨è¿¹

**å†æ¬¡å¼ºè°ƒï¼šå¿…é¡»ç”Ÿæˆ%%params.numberOfEpisodes%%é›†å®Œæ•´å†…å®¹ï¼**`,
  outputFormat: 'json_array',
  responseWrapper: '```json',
  variables: [
    'params.numberOfEpisodes',
    'params.stageSynopsis',
    'params.customRequirements',
    'params.timeframe',
    'params.startingCondition',
    'params.endingCondition',
    'params.stageStartEvent',
    'params.stageEndEvent',
    'params.keyPoints',
    'params.relationshipLevel',
    'params.emotionalArc',
    'params.externalPressure',
    'params.platform',
    'params.genre',
    'params.requirements',
    'params.totalEpisodes',
    'params.episodeDuration',
    'params.stageNumber',
    'params.startingEpisode',
    'params.endingEpisode',
    'params.episodeSpecificInstructions'
  ]
}; 



/**
 * Generate episode-specific instructions based on the episode range being generated
 * This is extensible for future special episode requirements
 */
export function generateEpisodeSpecificInstructions(startingEpisode: number, endingEpisode: number): string {
  const instructions: string[] = [];

  // First episode special requirements
  if (startingEpisode === 1) {
      instructions.push(`
**ðŸ“º ç¬¬1é›†ç‰¹æ®Šè¦æ±‚**ï¼š
- **å¼€ç¯‡å¸å¼•åŠ›**ï¼šç¬¬ä¸€é›†çš„å¼€å¤´å¿…é¡»ç”¨å¸å¼•äººï¼Œ é«˜èƒ½é‡çš„æ–¹å¼ï¼Œå¿«é€ŸæŠŠä¸»è¦äººç‰©çš„èƒŒæ™¯ã€å‰§ä¸­çš„åˆå§‹å…³ç³»éƒ½äº¤ä»£æ¸…æ¥š
- **äººç‰©ç¢°æ’žè®¾è®¡**ï¼šå¼€å¤´åœºæ™¯é€‰æ‹©ä¸€äº›äººç‰©çŸ­æœŸå¿«é€Ÿèƒ½ç¢°æ’žçš„åœºæ™¯ï¼Œåˆ¶é€ æˆå‰§å†²çªå’Œå¼ åŠ›
- **å™äº‹æŠ€å·§è¿ç”¨**ï¼šå¦‚æžœæœ‰äº¤ä»£çš„ç©ºç¼ºï¼Œå¯ä»¥åˆ©ç”¨flashbackï¼ˆé—ªå›žï¼‰ã€å€’åºç­‰æ‰‹æ³•æ¥è¡¥å……èƒŒæ™¯ä¿¡æ¯
- **ä¿¡æ¯å¯†åº¦æŽ§åˆ¶**ï¼šåœ¨ä¿æŒèŠ‚å¥ç´§å‡‘çš„åŒæ—¶ï¼Œç¡®ä¿è§‚ä¼—èƒ½å¿«é€Ÿç†è§£äººç‰©å…³ç³»å’Œæ•…äº‹èƒŒæ™¯
- **é’©å­å‰ç½®**ï¼šå¼€åœº3åˆ†é’Ÿå†…å¿…é¡»å»ºç«‹æ ¸å¿ƒçŸ›ç›¾æˆ–æ‚¬å¿µï¼ŒæŠ“ä½è§‚ä¼—æ³¨æ„åŠ›`);
  }

  // Future: Add more conditional requirements here
  // Example: Mid-season episodes, finale episodes, etc.
  /*
  if (endingEpisode >= 10 && endingEpisode <= 15) {
    instructions.push(`
**ðŸ”¥ ä¸­æœŸå‰§é›†è¦æ±‚**ï¼š
- **æƒ…æ„Ÿæ·±åŒ–**ï¼šæ·±å…¥æŒ–æŽ˜äººç‰©å†…å¿ƒä¸–ç•Œå’Œå¤æ‚æƒ…æ„Ÿ
- **å…³ç³»è½¬æŠ˜**ï¼šå‡†å¤‡é‡å¤§å…³ç³»è½¬å˜çš„é“ºåž«`);
  }

  if (endingEpisode >= 20) {
    instructions.push(`
**ðŸŽ¬ é«˜æ½®å‰§é›†è¦æ±‚**ï¼š
- **å†²çªæ¿€åŒ–**ï¼šå°†æ‰€æœ‰ç§¯ç´¯çš„çŸ›ç›¾æŽ¨å‘é«˜æ½®
- **è§’è‰²æˆé•¿**ï¼šå±•çŽ°è§’è‰²çš„é‡å¤§æˆé•¿å’Œè½¬å˜`);
  }
  */

  // If no special instructions, return empty string
  return instructions.length > 0 ? instructions.join('\n') : '';
}
